{% extends 'events/base.html' %}
{% block content %}

<a href="{% url 'participant_create' %}" class="bg-green-500 text-white px-4 py-2 rounded">+ Add Participant</a>

<ul class="mt-4 space-y-4">
  {% for participant in participants %}
    <li class="bg-white p-4 shadow rounded">
      <strong>{{ participant.name }}</strong> ({{ participant.email }})<br>
      Events:
      <ul class="ml-4 list-disc">
        {% for e in participant.events.all %}
          <li>{{ e.name }}</li>
        {% empty %}
          <li>No events joined.</li>
        {% endfor %}
      </ul>
      <a href="{% url 'participant_update' participant.pk %}" class="text-blue-500">Edit</a> |
      <a href="{% url 'participant_delete' participant.pk %}" class="text-red-500">Delete</a>
    </li>
  {% endfor %}
</ul>

{% endblock %}
